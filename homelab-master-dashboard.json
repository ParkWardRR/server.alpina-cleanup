{
  "annotations": {
    "list": []
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
      "id": 100,
      "panels": [],
      "title": "Infrastructure Overview",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 0, "y": 1},
      "id": 1,
      "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "count(up{job=\"node\"} == 1)", "refId": "A"}],
      "title": "Hosts Online",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 4, "y": 1},
      "id": 2,
      "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "count(pve_up == 1)", "refId": "A"}],
      "title": "VMs Running",
      "type": "stat"
    },
    {
      "datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "blue", "value": null}]},
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 8, "y": 1},
      "id": 3,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["sum"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"}, "expr": "sum(count_over_time({job=\"syslog\"} [24h]))", "refId": "A"}],
      "title": "Log Entries (24h)",
      "type": "stat"
    },
    {
      "datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 10}, {"color": "red", "value": 50}]},
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 12, "y": 1},
      "id": 4,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["sum"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"}, "expr": "sum(count_over_time({job=\"syslog\"} |~ \"(?i)(error|fail|critical)\" [24h]))", "refId": "A"}],
      "title": "Errors (24h)",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 85}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 16, "y": 1},
      "id": 5,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "avg(100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100))", "refId": "A"}],
      "title": "Avg CPU Usage",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 85}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 20, "y": 1},
      "id": 6,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["mean"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "avg((1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100)", "refId": "A"}],
      "title": "Avg Memory Usage",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 5},
      "id": 101,
      "panels": [],
      "title": "Host Resources",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "continuous-GrYlRd"},
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 6, "w": 8, "x": 0, "y": 6},
      "id": 10,
      "options": {"displayMode": "lcd", "maxVizHeight": 300, "minVizHeight": 16, "minVizWidth": 8, "namePlacement": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showUnfilled": true, "sizing": "auto", "valueMode": "color"},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)", "legendFormat": "{{instance}}", "refId": "A"}],
      "title": "CPU Usage by Host",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100", "renamePattern": "$1"}}],
      "type": "bargauge"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "continuous-GrYlRd"},
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 6, "w": 8, "x": 8, "y": 6},
      "id": 11,
      "options": {"displayMode": "lcd", "maxVizHeight": 300, "minVizHeight": 16, "minVizWidth": 8, "namePlacement": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showUnfilled": true, "sizing": "auto", "valueMode": "color"},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "(1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100", "legendFormat": "{{instance}}", "refId": "A"}],
      "title": "Memory Usage by Host",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100", "renamePattern": "$1"}}],
      "type": "bargauge"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "continuous-GrYlRd"},
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 6, "w": 8, "x": 16, "y": 6},
      "id": 12,
      "options": {"displayMode": "lcd", "maxVizHeight": 300, "minVizHeight": 16, "minVizWidth": 8, "namePlacement": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showUnfilled": true, "sizing": "auto", "valueMode": "color"},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "(1 - node_filesystem_avail_bytes{mountpoint=\"/\",fstype!=\"tmpfs\"} / node_filesystem_size_bytes{mountpoint=\"/\",fstype!=\"tmpfs\"}) * 100", "legendFormat": "{{instance}}", "refId": "A"}],
      "title": "Disk Usage by Host",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100", "renamePattern": "$1"}}],
      "type": "bargauge"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "barWidthFactor": 0.6, "drawStyle": "line", "fillOpacity": 20, "gradientMode": "opacity", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "smooth", "lineWidth": 2, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 7, "w": 12, "x": 0, "y": 12},
      "id": 13,
      "options": {"legend": {"calcs": ["mean", "max"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)", "legendFormat": "{{instance}}", "refId": "A"}],
      "title": "CPU Usage Over Time",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100", "renamePattern": "$1"}}],
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "barWidthFactor": 0.6, "drawStyle": "line", "fillOpacity": 20, "gradientMode": "opacity", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "smooth", "lineWidth": 2, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 7, "w": 12, "x": 12, "y": 12},
      "id": 14,
      "options": {"legend": {"calcs": ["mean", "max"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "(1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100", "legendFormat": "{{instance}}", "refId": "A"}],
      "title": "Memory Usage Over Time",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100", "renamePattern": "$1"}}],
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 19},
      "id": 102,
      "panels": [],
      "title": "Proxmox Virtual Machines",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "custom": {"align": "auto", "cellOptions": {"type": "auto"}, "inspect": false},
          "mappings": [{"options": {"0": {"color": "red", "index": 1, "text": "Stopped"}, "1": {"color": "green", "index": 0, "text": "Running"}}, "type": "value"}],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}
        },
        "overrides": [
          {"matcher": {"id": "byName", "options": "Status"}, "properties": [{"id": "custom.cellOptions", "value": {"type": "color-text"}}, {"id": "custom.width", "value": 80}]},
          {"matcher": {"id": "byName", "options": "CPU %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "gauge", "valueDisplayMode": "text"}}, {"id": "max", "value": 100}, {"id": "min", "value": 0}]},
          {"matcher": {"id": "byName", "options": "Memory %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "gauge", "valueDisplayMode": "text"}}, {"id": "max", "value": 100}, {"id": "min", "value": 0}]},
          {"matcher": {"id": "byName", "options": "Disk"}, "properties": [{"id": "unit", "value": "bytes"}]},
          {"matcher": {"id": "byName", "options": "Uptime"}, "properties": [{"id": "unit", "value": "s"}]},
          {"matcher": {"id": "byName", "options": "VM"}, "properties": [{"id": "custom.width", "value": 120}]}
        ]
      },
      "gridPos": {"h": 8, "w": 24, "x": 0, "y": 20},
      "id": 20,
      "options": {"cellHeight": "sm", "footer": {"countRows": false, "fields": "", "reducer": ["sum"], "show": false}, "showHeader": true, "sortBy": [{"desc": false, "displayName": "VM"}]},
      "pluginVersion": "11.4.0",
      "targets": [
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_up", "format": "table", "instant": true, "refId": "status"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_cpu_usage_ratio * 100", "format": "table", "instant": true, "refId": "cpu"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_memory_usage_bytes / pve_memory_size_bytes * 100", "format": "table", "instant": true, "refId": "mem"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_disk_size_bytes", "format": "table", "instant": true, "refId": "disk"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_uptime_seconds", "format": "table", "instant": true, "refId": "uptime"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "pve_guest_info", "format": "table", "instant": true, "refId": "info"}
      ],
      "title": "VM Status Overview",
      "transformations": [
        {"id": "seriesToColumns", "options": {"byField": "id"}},
        {"id": "organize", "options": {"excludeByName": {"Time": true, "Time 1": true, "Time 2": true, "Time 3": true, "Time 4": true, "Time 5": true, "Time 6": true, "__name__": true, "__name__ 1": true, "__name__ 2": true, "__name__ 3": true, "__name__ 4": true, "__name__ 5": true, "__name__ 6": true, "cluster": true, "cluster 1": true, "cluster 2": true, "cluster 3": true, "cluster 4": true, "cluster 5": true, "cluster 6": true, "id 1": true, "id 2": true, "id 3": true, "id 4": true, "id 5": true, "instance": true, "instance 1": true, "instance 2": true, "instance 3": true, "instance 4": true, "instance 5": true, "instance 6": true, "job": true, "job 1": true, "job 2": true, "job 3": true, "job 4": true, "job 5": true, "job 6": true, "node": true, "node 1": true, "node 2": true, "node 3": true, "node 4": true, "node 5": true, "node 6": true, "type": true}, "includeByName": {}, "indexByName": {"Value #cpu": 3, "Value #disk": 5, "Value #info": 7, "Value #mem": 4, "Value #status": 2, "Value #uptime": 6, "name": 1}, "renameByName": {"Value #cpu": "CPU %", "Value #disk": "Disk", "Value #info": "", "Value #mem": "Memory %", "Value #status": "Status", "Value #uptime": "Uptime", "name": "VM"}}}
      ],
      "type": "table"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 28},
      "id": 103,
      "panels": [],
      "title": "Logs & Events",
      "type": "row"
    },
    {
      "datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"hideFrom": {"legend": false, "tooltip": false, "viz": false}},
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {"h": 7, "w": 8, "x": 0, "y": 29},
      "id": 30,
      "options": {"displayLabels": ["percent"], "legend": {"displayMode": "table", "placement": "right", "showLegend": true, "values": ["value"]}, "pieType": "donut", "reduceOptions": {"calcs": ["sum"], "fields": "", "values": false}, "tooltip": {"mode": "single", "sort": "none"}},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"}, "expr": "sum(count_over_time({job=\"syslog\"} [1h]))", "refId": "A"}],
      "title": "Log Rate (1h)",
      "type": "piechart"
    },
    {
      "datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "barWidthFactor": 0.6, "drawStyle": "bars", "fillOpacity": 80, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {"h": 7, "w": 8, "x": 8, "y": 29},
      "id": 31,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"}, "expr": "sum(count_over_time({job=\"syslog\"} [5m]))", "refId": "A"}],
      "title": "Log Volume Over Time",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"},
      "gridPos": {"h": 7, "w": 8, "x": 16, "y": 29},
      "id": 32,
      "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
      "pluginVersion": "11.4.0",
      "targets": [{"datasource": {"type": "loki", "uid": "P8E80F9AEF21F6940"}, "expr": "{job=\"syslog\"} |~ \"(?i)(error|fail|critical|denied|refused)\"", "refId": "A"}],
      "title": "Recent Errors & Warnings",
      "type": "logs"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 36},
      "id": 104,
      "panels": [],
      "title": "Network & Storage I/O",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "barWidthFactor": 0.6, "drawStyle": "line", "fillOpacity": 20, "gradientMode": "opacity", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "smooth", "lineWidth": 2, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "Bps"
        },
        "overrides": [{"matcher": {"id": "byRegexp", "options": ".*tx.*"}, "properties": [{"id": "custom.transform", "value": "negative-Y"}]}]
      },
      "gridPos": {"h": 7, "w": 12, "x": 0, "y": 37},
      "id": 40,
      "options": {"legend": {"calcs": ["mean"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "pluginVersion": "11.4.0",
      "targets": [
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "rate(node_network_receive_bytes_total{device=~\"eth.*|ens.*|enp.*\"}[5m])", "legendFormat": "{{instance}} rx", "refId": "rx"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "rate(node_network_transmit_bytes_total{device=~\"eth.*|ens.*|enp.*\"}[5m])", "legendFormat": "{{instance}} tx", "refId": "tx"}
      ],
      "title": "Network I/O (All Hosts)",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100 (rx|tx)", "renamePattern": "$1 $2"}}],
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "barWidthFactor": 0.6, "drawStyle": "line", "fillOpacity": 20, "gradientMode": "opacity", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "smooth", "lineWidth": 2, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "Bps"
        },
        "overrides": [{"matcher": {"id": "byRegexp", "options": ".*write.*"}, "properties": [{"id": "custom.transform", "value": "negative-Y"}]}]
      },
      "gridPos": {"h": 7, "w": 12, "x": 12, "y": 37},
      "id": 41,
      "options": {"legend": {"calcs": ["mean"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "pluginVersion": "11.4.0",
      "targets": [
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "sum by (instance) (rate(node_disk_read_bytes_total[5m]))", "legendFormat": "{{instance}} read", "refId": "read"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "sum by (instance) (rate(node_disk_written_bytes_total[5m]))", "legendFormat": "{{instance}} write", "refId": "write"}
      ],
      "title": "Disk I/O (All Hosts)",
      "transformations": [{"id": "renameByRegex", "options": {"regex": "(.+):9100 (read|write)", "renamePattern": "$1 $2"}}],
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 44},
      "id": 105,
      "panels": [],
      "title": "Host Details",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "custom": {"align": "auto", "cellOptions": {"type": "auto"}, "inspect": false},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}
        },
        "overrides": [
          {"matcher": {"id": "byName", "options": "CPU %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "gauge", "valueDisplayMode": "text"}}, {"id": "max", "value": 100}, {"id": "min", "value": 0}, {"id": "decimals", "value": 1}]},
          {"matcher": {"id": "byName", "options": "Memory %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "gauge", "valueDisplayMode": "text"}}, {"id": "max", "value": 100}, {"id": "min", "value": 0}, {"id": "decimals", "value": 1}]},
          {"matcher": {"id": "byName", "options": "Disk %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "gauge", "valueDisplayMode": "text"}}, {"id": "max", "value": 100}, {"id": "min", "value": 0}, {"id": "decimals", "value": 1}]},
          {"matcher": {"id": "byName", "options": "Uptime"}, "properties": [{"id": "unit", "value": "s"}]},
          {"matcher": {"id": "byName", "options": "Load"}, "properties": [{"id": "decimals", "value": 2}]},
          {"matcher": {"id": "byName", "options": "Host"}, "properties": [{"id": "custom.width", "value": 150}]}
        ]
      },
      "gridPos": {"h": 7, "w": 24, "x": 0, "y": 45},
      "id": 50,
      "options": {"cellHeight": "sm", "footer": {"countRows": false, "fields": "", "reducer": ["sum"], "show": false}, "showHeader": true, "sortBy": [{"desc": false, "displayName": "Host"}]},
      "pluginVersion": "11.4.0",
      "targets": [
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)", "format": "table", "instant": true, "refId": "cpu"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "(1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100", "format": "table", "instant": true, "refId": "mem"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "(1 - node_filesystem_avail_bytes{mountpoint=\"/\",fstype!=\"tmpfs\"} / node_filesystem_size_bytes{mountpoint=\"/\",fstype!=\"tmpfs\"}) * 100", "format": "table", "instant": true, "refId": "disk"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "node_load5", "format": "table", "instant": true, "refId": "load"},
        {"datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"}, "expr": "time() - node_boot_time_seconds", "format": "table", "instant": true, "refId": "uptime"}
      ],
      "title": "Host Summary Table",
      "transformations": [
        {"id": "seriesToColumns", "options": {"byField": "instance"}},
        {"id": "organize", "options": {"excludeByName": {"Time": true, "Time 1": true, "Time 2": true, "Time 3": true, "Time 4": true, "Time 5": true, "__name__": true, "__name__ 1": true, "__name__ 2": true, "__name__ 3": true, "__name__ 4": true, "device": true, "env": true, "env 1": true, "env 2": true, "env 3": true, "env 4": true, "fstype": true, "job": true, "job 1": true, "job 2": true, "job 3": true, "job 4": true, "mountpoint": true}, "includeByName": {}, "indexByName": {}, "renameByName": {"Value #cpu": "CPU %", "Value #disk": "Disk %", "Value #load": "Load", "Value #mem": "Memory %", "Value #uptime": "Uptime", "instance": "Host"}}},
        {"id": "renameByRegex", "options": {"column": "Host", "regex": "(.+):9100", "renamePattern": "$1"}}
      ],
      "type": "table"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 39,
  "tags": ["homelab", "overview", "master"],
  "templating": {"list": []},
  "time": {"from": "now-6h", "to": "now"},
  "timepicker": {},
  "timezone": "browser",
  "title": "Homelab Master Dashboard",
  "uid": "homelab-master",
  "version": 1
}
